<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="UTF-8">
  <title>Frank Sinatra – Creepy ARG</title>
  <style>
    /* Base & Slide Layout */
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100vw;
      height: 100vh;
      font-family: 'Georgia', serif;
      background-color: #000;
      color: #fff;
    }
    #slides { position: relative; width: 100%; height: 100%; }
    .slide {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      display: none; box-sizing: border-box;
    }
    .slide.active { display: block; }

    /* Slide 1 */
    .slide.one {
      background-color: black;
      color: white;
    }
    .slide.one .header { background-color: #2ca39f; height: 150px; }
    .slide.one .content {
      padding: 40px; position: relative;
    }
    .slide.one h1 { font-size: 60px; }
    .slide.one p { font-size: 24px; color: #bbb; }
    .slide.one img {
      position: absolute; top: 30px; right: 40px;
      width: 35%; max-width: 450px; border-radius: 10px;
    }

    /* Slides 2–4 */
    .slide.two, .slide.three, .slide.four {
      background-color: #f9f4ea; color: black;
      padding: 40px; position: relative;
    }
    .slide.two h1, .slide.three h1, .slide.four h1 {
      font-size: 50px;
    }
    .slide.two p, .slide.three p, .slide.four p {
      font-size: 22px; line-height: 1.6; width: 60%;
    }
    .slide.two img, .slide.three img, .slide.four img {
      width: 35%; max-width: 450px;
      position: absolute; top: 40px; right: 40px;
      border-radius: 10px; box-shadow: 0 3px 8px rgba(0,0,0,0.3);
    }
    .slide.three img { top: 40px; }
    .slide.four img { top: 40px; }
    .slide.two .footer,
    .slide.three .footer,
    .slide.four .footer {
      background-color: #2ca39f;
      height: 10px; position: absolute;
      bottom: 0; left: 0; width: 100%;
    }

    /* ARG Mode */
    .arg-mode {
      filter: invert(1) hue-rotate(180deg);
    }
    .arg-text {
      color: red;
      font-size: 20px;
      margin-top: 20px;
      max-width: 80%;
      animation: flicker 0.2s infinite;
    }
    @keyframes flicker {
      0%,19%,21%,50%,100% { opacity: 1; }
      20%,24%,55% { opacity: 0.1; }
    }

    /* Glitch Effects */
    body.glitch1 {
      animation: glitch1 1s infinite;
    }
    @keyframes glitch1 {
      0%   { clip: rect(20px,9999px,30px,0); transform: translate(0.5px,-0.5px); }
      20%  { clip: rect(50px,9999px,60px,0); transform: translate(-0.5px,0.5px); }
      40%  { clip: rect(30px,9999px,40px,0); transform: translate(-0.5px,-0.5px); }
      60%  { clip: rect(10px,9999px,20px,0); transform: translate(0.5px,0.5px); }
      80%  { clip: rect(70px,9999px,80px,0); transform: translate(-0.5px,0); }
      100% { clip: rect(20px,9999px,30px,0); transform: translate(0,-0.5px); }
    }

    body.glitch2 {
      animation: hueShift 2s infinite;
    }
    @keyframes hueShift {
      0%   { filter: hue-rotate(0deg) blur(0); }
      50%  { filter: hue-rotate(180deg) blur(1px); }
      100% { filter: hue-rotate(360deg) blur(0); }
    }

    body.glitch3 img {
      animation: shake 0.5s infinite;
      filter: blur(2px) brightness(1.2);
    }
    @keyframes shake {
      0%   { transform: translate(0,0); }
      25%  { transform: translate(-2px,2px); }
      50%  { transform: translate(2px,-2px); }
      75%  { transform: translate(-2px,2px); }
      100% { transform: translate(0,0); }
    }
  </style>
</head>
<body>
  <div id="slides">
    <!-- Slide 1 -->
    <section class="slide one active">
      <div class="header"></div>
      <div class="content">
        <h1>Frank Sinatra</h1>
        <p>Klemensas Kaubrys 10B</p>
        <img
          src="sinatra1.jpg"
          data-alt="sinatra1_alt.jpg"
          alt="Frank Sinatra">
      </div>
    </section>

    <!-- Slide 2 -->
    <section class="slide two">
      <h1>Ankstyvas gyvenimas</h1>
      <img
        src="sinatra2.jpg"
        data-alt="sinatra2_alt.jpg"
        alt="Jaunasis Frank Sinatra">
      <p>
        Frank Sinatra gimė 1915 m. gruodžio 12 dieną, Hobokene, Naujajame Džersyje, italų imigrantų šeimoje. Jo šeima gyveno kukliai, o jaunasis Frankas nuo pat vaikystės rodė ypatingą susidomėjimą muzika. Jis dažnai dainuodavo mokyklos renginiuose, vietiniuose klubuose ir radijo laidose. Jo balsas ir charizma padėjo jam greitai tapti pastebėtam muzikos pasaulyje.
      </p>
      <div class="footer"></div>
    </section>

    <!-- Slide 3 -->
    <section class="slide three">
      <h1>Karjera ir šlovė</h1>
      <img
        src="sinatra3.jpg"
        data-alt="sinatra3_alt.jpg"
        alt="Sinatra karjeros viršūnėje">
      <p>
        Sinatra tapo viena didžiausių XX amžiaus žvaigždžių, atlikdamas tokius hitus kaip „My Way“, „Strangers in the Night“ ir „Fly Me to the Moon“. Jo dainos tapo klasika, o pats Sinatra – populiariosios muzikos ikona. Be muzikos, Sinatra taip pat turėjo sėkmingą aktoriaus karjerą, už vaidmenį filme „From Here to Eternity“ (1953) buvo apdovanotas „Oskaru“.
      </p>
      <div class="footer"></div>
    </section>

    <!-- Slide 4 -->
    <section class="slide four">
      <h1>Palikimas ir asmeninis gyvenimas</h1>
      <img
        src="sinatra4.jpg"
        data-alt="sinatra4_alt.jpg"
        alt="Vyresnysis Frank Sinatra">
      <p>
        Sinatra buvo charizmatiška ir kontraversiška asmenybė. Jis buvo vedęs keturis kartus, tarp jo žmonų – garsios aktorės Ava Gardner ir Mia Farrow. Frank Sinatra mirė 1998 m. gegužės 14 dieną Kalifornijoje, palikdamas didžiulę įtaką muzikai ir populiariajai kultūrai. Jo muzika iki šių dienų populiari visame pasaulyje ir įkvepia naujas kartas atlikėjų.
      </p>
      <div class="footer"></div>
    </section>
  </div>

  <!-- Audio Elements -->
  <audio id="sound1" src="sound1.mp3"></audio>
  <audio id="sound2" src="sound2.mp3"></audio>
  <audio id="sound3" src="sound3.mp3"></audio>

  <!-- Socket.IO & Interaction Script -->
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    const slides = document.querySelectorAll('.slide');
    let current = 0;

    // Slide navigation
    function showSlide(n) {
      slides[current].classList.remove('active');
      current = (n + slides.length) % slides.length;
      slides[current].classList.add('active');
    }
    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowRight') showSlide(current + 1);
      if (e.key === 'ArrowLeft')  showSlide(current - 1);
    });

    // Fullscreen on load
    window.addEventListener('load', () => {
      const el = document.documentElement;
      if (el.requestFullscreen) el.requestFullscreen().catch(()=>{});
    });

    // ARG gibberish per slide
    const argMessages = [
      "P̸͎͉͍͜a̷͇̩̻̣̭͖s̷͔̻̱̗ş̸͙̻̜̮̭e̵͖͈͓d̶̩ ̴͇̰i̵͍̖͔̺̞n̵̰̳͎ ̶̭̞t̷̜͖ḥ̷̞̣̭e̷̗͜ ̷̢̧̤m̴̻̰ạ̷̙̖r̷̤̞g̷͎̟͍i̶̟̻ͅn̶̤͇͎s̴͓͇",
      "W̷̞̱̲e̵͇ ̷͓͎a̷̤r̷͖͔ḛ̵͈ ̷͎̞̠d̴̞̲o̴̤͜t̴̝t̵̫̭e̷͓͈d̶͚͚ ̵͇͔o̴͖̠u̶̗̥t̸̘̣ ̷͇͎ḇ̷͔e̷͖͇l̶̤̪o̷̼̹w̴͓̥",
      "G̵͔̖l̴̢͎i̶͙t̵͙͙c̷̠̹h̶̬͕ ̶̻̮t̶̜͈h̴͖̻e̷̲ͅ ̴͎͇͖ţ̵̥e̴͖̣x̶̫t̷͚̖u̵͙̱r̸͉e̵͔̼",
      "D̷̻͓r̷̻̣i̶͖̬p̶̟̣ ̶͚̳o̵͖̪u̷̳͖t̴̼̹ ̴͔͈i̴̤͕n̸̡̲ ̴̢̭t̵͙̮h̶̗̯e̸͍̭ ̴̦̘s̴̰̠h̶̭͍a̸̧̱d̸͓̭o̶̘̭w̶̡͇s̷̺̲"
    ];

    // Audio helpers
    function setVolume(n) {
      [1,2,3].forEach(i => {
        const a = document.getElementById('sound'+i);
        a.volume = Math.min(Math.max(n/100,0),1);
      });
    }
    function playSound(i) {
      const a = document.getElementById('sound'+i);
      a.currentTime = 0;
      a.play();
    }

    // ARG on/off
    function argOn() {
      document.body.classList.add('arg-mode');
      const slide = slides[current];
      const img = slide.querySelector('img');
      if (!img.dataset.original) img.dataset.original = img.src;
      img.src = img.dataset.alt;
      const div = document.createElement('div');
      div.className = 'arg-text';
      div.textContent = argMessages[current] || '';
      div.id = 'arg-text';
      slide.appendChild(div);
    }
    function argOff() {
      document.body.classList.remove('arg-mode');
      const slide = slides[current];
      const img = slide.querySelector('img');
      if (img.dataset.original) {
        img.src = img.dataset.original;
        delete img.dataset.original;
      }
      const txt = slide.querySelector('#arg-text');
      if (txt) txt.remove();
    }

    // Glitch handlers
    function glitchOn(type) { document.body.classList.add('glitch'+type); }
    function glitchOff(type){ document.body.classList.remove('glitch'+type); }

    // Socket events
    socket.on('command', cmd => {
      switch(cmd) {
        case 'arg_down': argOn(); break;
        case 'arg_up':   argOff(); break;
        case 'sound1':   playSound(1); break;
        case 'sound2':   playSound(2); break;
        case 'sound3':   playSound(3); break;
        case 'glitch1_down': glitchOn(1); break;
        case 'glitch1_up':   glitchOff(1); break;
        case 'glitch2_down': glitchOn(2); break;
        case 'glitch2_up':   glitchOff(2); break;
        case 'glitch3_down': glitchOn(3); break;
        case 'glitch3_up':   glitchOff(3); break;
      }
    });
    socket.on('volume', data => {
      setVolume(data.volume);
    });
  </script>
</body>
</html>
